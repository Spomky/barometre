{%  set statusColor = {
(constant('Afup\\BarometreBundle\\Enums\\StatusEnums::AUTRE')):'#4C6EAF',
(constant('Afup\\BarometreBundle\\Enums\\StatusEnums::CDD')):'#89A54E',
(constant('Afup\\BarometreBundle\\Enums\\StatusEnums::CDI')):'#80699B',
(constant('Afup\\BarometreBundle\\Enums\\StatusEnums::FREELANCE')):'#3D96AE',
(constant('Afup\\BarometreBundle\\Enums\\StatusEnums::SANS_EMPLOI')):'#DB843D',
}
%}

{% block report_content %}
<table class="highchart status-evolution"
       data-graph-container-before="1"
       data-graph-type="column"
       style="display:none"
       data-graph-datalabels-enabled="1"
       data-graph-datalabels-color="white"
       data-graph-stacking="percent"
>
    <thead>
    <tr>
        <th>Ann√©e</th>
        {% for status in results.columns %}
            <th data-graph-stack-group="1"
                data-graph-color="{{ statusColor[status] }}"
            >{{ status|enum_label('status') }}</th>
        {% endfor %}
    </tr>
    </thead>
    <tbody>
    {% for year,yearResults in results.data %}
        <tr>
            <td>{{ year }}</td>
            {% for row in yearResults %}
                <td class="text-right">{{ row }}</td>
            {% endfor %}
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
